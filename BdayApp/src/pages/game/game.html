
<ion-header>
  	  <ion-navbar hideBackButton>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{game.name}}</ion-title>
    <ion-buttons end>
<button (click)="goHome()">
<ion-icon name="home" style="display: inline-block;font-size:2.5em;"></ion-icon>
</button>
</ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>

	<p [innerHTML]="game.instructions"></p> 


	<!-- Placeholder for special interactions, -Timer -->

	<ion-slides #arrowNav (ionSlideDidChange)="slideChanged()"> 
		<ion-slide>

			<div ngSwitch="{{game.gametype}}">
					<div *ngSwitchDefault>

					    <form [formGroup]="inputForm">
						    <ion-item>
						            <ion-label floating>Dein Ergebniss</ion-label>
						            <ion-input formControlName="score" type="text"></ion-input>
						    </ion-item>

						    <ion-input formControlName="game_id" type="hidden" value="{{game.id}}"></ion-input>
						    <button ion-button full color="primary" [disabled]="!isRepeatable" (click)="postScore()">Absenden</button>						 	
						</form>
					</div>

					<div *ngSwitchCase="'brave'" [ngClass]="'brave'">
						<button ion-button round [disabled]="!isRepeatable" (click)="postBool()">Challenge erfolgreich bestanden!</button>	
					</div>

					<div *ngSwitchCase="'time'" [ngClass]="'time'">

						<form [formGroup]="inputForm">

						    <ion-item>
						            <ion-label floating>Dein Ergebniss</ion-label>
						            <ion-input formControlName="score" type="text" disabled="true" value="{{time}}"></ion-input>
						    </ion-item>
						    <ion-input formControlName="game_id" type="hidden" value="{{game.id}}"></ion-input>

						    <button ion-button full color="primary" [disabled]="!isRepeatable" (click)="startTimer()">{{timeTxt}}</button>

						    <button ion-button full color="primary" [disabled]="!isRepeatable" (click)="postTime()" [disabled]="!canSend">Absenden</button>	

						    <button ion-button full color="primary"  (click)="countDown()">Showtime</button>						 	
						</form>
					</div>


					
						
					
  				</div> 
		</ion-slide>



		<ion-slide>
			<button ion-button full color="primary" (click)="showTop5()">Bestenliste aktualisieren</button>
			<ion-list>

				<ion-item *ngFor="let score of scores">
			      {{score.name}} {{score.pivot.value}}
			    </ion-item>  

		  	</ion-list>
		</ion-slide> 
	</ion-slides> 

</ion-content>



<ion-footer>
  <ion-toolbar>
    <ion-title>Dein aktuelles ErgebnisÏ€: {{cookie}}</ion-title>
<div *ngIf="game.live == 1 ">

    <div right ngSwitch="{{position}}">
		<div *ngSwitchDefault [ngClass]="'zero'">
		<ion-buttons end>
        <button ion-button icon-right (click)="next()">Top10 <ion-icon name="arrow-forward"></ion-icon></button>
      </ion-buttons>
		</div>

		<div *ngSwitchCase="'1'" [ngClass]="'one'">
			    <ion-buttons end>
        			<button ion-button icon-left (click)="prev()"><ion-icon name="arrow-back"></ion-icon> Zur&uuml;</button>
      			</ion-buttons>
		</div>		
								
  	</div> 
</div>


  </ion-toolbar>
</ion-footer>